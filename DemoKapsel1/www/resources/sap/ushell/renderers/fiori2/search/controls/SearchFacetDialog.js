(function(){"use strict";jQuery.sap.require('sap.m.Dialog');sap.m.Dialog.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog',{constructor:function(o){var s=this;o=jQuery.extend({},{showHeader:true,title:"Facet Dialog",horizontalScrolling:false,verticalScrolling:false,beginButton:new sap.m.Button({text:"OK",press:function(e){s.close();}}),endButton:new sap.m.Button({text:"Cancel",press:function(e){s.close();}}),content:[s.createContainer()]},o);sap.m.Dialog.prototype.constructor.apply(this,[o]);this.addStyleClass("sapUiSizeCompact");this.addStyleClass('searchFacetDialog');},renderer:'sap.m.DialogRenderer',createContainer:function(){var s=this;var m=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){s.onSelectionChange(e);},items:{path:"/facets",template:new sap.m.StandardListItem({title:"{title}"})}})]}).addStyleClass('searchFacetDialogMasterContainer');s.oSplitContainer=new sap.m.SplitContainer({masterPages:[m]}).addStyleClass('searchFacetDialogContainer');s.oSplitContainer.bindAggregation("detailPages","/facets",function(i,c){return s.detailPagesFactory(i,c);});return s.oSplitContainer;},detailPagesFactory:function(i,c){var s=this;var d=c.oModel.getProperty(c.sPath).dimension;var l=new sap.m.List({});if(d){l.setMode(sap.m.ListMode.MultiSelect);}else{l.setMode(sap.m.ListMode.SingleSelectLeft);}l.bindAggregation("items","items",function(i,c){var L=new sap.m.StandardListItem({title:"{label}",counter:"{value}"});L.addEventDelegate({onAfterRendering:function(e){var a=c.getObject().level;if(a>0){var b=a+1;jQuery(L.getDomRef()).css("padding-left",b+"rem");}}});return L;});var p=d?s.oSplitContainer.sId+d:s.oSplitContainer.sId+"searchIn";var P=new sap.m.Page(p,{showHeader:false,content:[l]});return P;},onSelectionChange:function(e){var s=this;var S=e.mParameters.listItem.getBindingContext().getObject();var n=S.dimension?s.oSplitContainer.sId+S.dimension:s.oSplitContainer.sId+"searchIn";s.oSplitContainer.toDetail(n,"show");}});})();
