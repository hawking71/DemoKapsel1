(function(){"use strict";jQuery.sap.require("sap.ushell.renderers.fiori2.search.controls.SearchFacet");sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter',{metadata:{properties:{title:"string"},aggregations:{"lists":{type:"sap.ui.core.Control",multiple:true}}},constructor:function(o){var s=this;o=jQuery.extend({},{lists:{path:"/facets",template:new sap.ushell.renderers.fiori2.search.controls.SearchFacet()}},o);sap.ui.core.Control.prototype.constructor.apply(this,[o]);},fireReset:function(){sap.m.FacetFilter.prototype.fireReset.apply(this,arguments);this.getModel().resetFilterConditions(false);this.getModel().setDataSource(this.getModel().allDataSource,true);},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("searchFacetFilter");r.writeClasses();r.write('>');for(var i=0,l=c.getLists().length;i<l;i++){var f=c.getLists()[i];if(i===0){f.setRole("datasource");}else{f.setRole("attribute");if(i===1){f.setHeaderText("Filter by");}}r.renderControl(f);}r.write("</div>");},onAfterRendering:function(){var a=$('.searchFacetFilter .searchFacet').first().find('ul');var b=a.find('li');a.attr('role','tree');b.attr('role','treeitem');}});})();
