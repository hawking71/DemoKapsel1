/*!
 * Copyright (c) 2009-2014 SAP SE, All Rights Reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.LoadingDialog");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.m.BusyDialog");sap.m.BusyDialog.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{"iconUri":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}}}});(function(){"use strict";jQuery.sap.require("sap.ui.core.Icon");sap.ushell.ui.launchpad.LoadingDialog.prototype.init=function(){sap.m.BusyDialog.prototype.init.call(this,arguments);this.oIcon=new sap.ui.core.Icon();};sap.ushell.ui.launchpad.LoadingDialog.prototype.exit=function(){sap.m.BusyDialog.prototype.exit.call(this,arguments);if(this.oIcon){this.oIcon.destroy();this.oIcon=null;}};sap.ushell.ui.launchpad.LoadingDialog.prototype.isOpen=function(){var p=this._oPopup;return p.isOpen();};sap.ushell.ui.launchpad.LoadingDialog.prototype.setPopupVisible=function(v){if(v){this.removeStyleClass("sapUshellLoadingDialogInvisible");}else{this.addStyleClass("sapUshellLoadingDialogInvisible");}};sap.ushell.ui.launchpad.LoadingDialog.prototype.setAppInfoVisible=function(v){this.toggleStyleClass("sapUshellLoadingDialogAppDataInvisible",!v);};sap.ushell.ui.launchpad.LoadingDialog.prototype.openLoadingScreen=function(){if(!this._oPopup.isOpen()){this.setPopupVisible(true);this.open();jQuery('.sapUiBLy').addClass('sapUshellLoadingDialog');}};sap.ushell.ui.launchpad.LoadingDialog.prototype.showAppInfo=function(a,i){var t=this,T=function(t){t.setAppInfoVisible(true);};this.setText(a);this.setIconUri(i);this.oIcon.setSrc(i);window.setTimeout(function(){T(t);},50);};sap.ushell.ui.launchpad.LoadingDialog.prototype.closeLoadingScreen=function(){var t=this,T=function(t){t.setText(null);t.setIconUri(null);t.setAppInfoVisible(false);if(t._oPopup&&t.isActive()){t.close();}jQuery('.sapMDialogBLyInit').removeClass('sapUshellLoadingDialog');};if(this._oPopup&&this._oPopup.isOpen()){this.setPopupVisible(false);window.setTimeout(function(){T(t);},300);}};}());
