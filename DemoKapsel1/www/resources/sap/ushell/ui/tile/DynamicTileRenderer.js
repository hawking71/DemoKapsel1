// Copyright (c) 2009-2014 SAP SE, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.tile.DynamicTileRenderer");jQuery.sap.require("sap.ushell.ui.tile.TileBaseRenderer");jQuery.sap.require("sap.ushell.ui.tile.State");jQuery.sap.require("sap.ui.core.format.NumberFormat");sap.ushell.ui.tile.DynamicTileRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.tile.TileBaseRenderer);var t=sap.ushell.resources.i18n;sap.ushell.ui.tile.DynamicTileRenderer.renderPart=function(r,c){r.write("<div");r.addClass("sapUshellDynamicTile");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellDynamicTileData");r.addClass((c.getNumberState()?"sapUshellDynamicTileData"+c.getNumberState():"sapUshellDynamicTileData"+sap.ushell.ui.tile.State.Neutral));r.writeClasses();r.write(">");r.write("<div class='sapUshellDynamicTileIndication'>");if(c.getStateArrow()){r.write("<div");r.addClass("sapUshellDynamicTileStateArrow");r.addClass("sapUshellDynamicTileData"+c.getStateArrow());r.writeClasses();r.write(">");r.write("</div>");}r.write('<br><div');r.addClass("sapUshellDynamicTileNumberFactor");r.writeClasses();r.writeAccessibilityState(c,{label:t.getText("TileUnits_lable")+c.getNumberFactor()});r.write('>');r.writeEscaped(c.getNumberFactor());r.write('</div>');r.write("</div>");var n=c.getNumberValue(),a;if(isNaN(n)){a=n;}else{var N=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:c.getNumberDigits()});a=N.format(c.getNumberValue());}r.write('<div');r.addClass("sapUshellDynamicTileNumber");r.writeClasses();if(a&&a!==""){r.writeAccessibilityState(c,{label:t.getText("TileValue_lable")+a});r.write('>');var d=a;try{var m=c.getIcon()?4:5;m-=(a[m-1]=='.')?1:0;d=d.substring(0,m);}catch(e){}r.writeEscaped(d);}else{r.write('>');r.writeEscaped(c.getNumberValue());}r.write('</div>');r.write("</div>");r.write("</div>");};sap.ushell.ui.tile.DynamicTileRenderer.getInfoPrefix=function(c){return c.getNumberUnit();};}());
